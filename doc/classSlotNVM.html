<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SlotNVM: SlotNVM&lt; BASE, CLUSTER_SIZE, PROVISION, LAST_SLOT, CRC_FUNC, RND_TYPE, RND_FUNC &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SlotNVM
   &#160;<span id="projectnumber">0.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classSlotNVM-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">SlotNVM&lt; BASE, CLUSTER_SIZE, PROVISION, LAST_SLOT, CRC_FUNC, RND_TYPE, RND_FUNC &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;SlotNVM.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for SlotNVM&lt; BASE, CLUSTER_SIZE, PROVISION, LAST_SLOT, CRC_FUNC, RND_TYPE, RND_FUNC &gt;:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classSlotNVM.png" usemap="#SlotNVM_3C_20BASE_2C_20CLUSTER_5FSIZE_2C_20PROVISION_2C_20LAST_5FSLOT_2C_20CRC_5FFUNC_2C_20RND_5FTYPE_2C_20RND_5FFUNC_20_3E_map" alt=""/>
  <map id="SlotNVM_3C_20BASE_2C_20CLUSTER_5FSIZE_2C_20PROVISION_2C_20LAST_5FSLOT_2C_20CRC_5FFUNC_2C_20RND_5FTYPE_2C_20RND_5FFUNC_20_3E_map" name="SlotNVM_3C_20BASE_2C_20CLUSTER_5FSIZE_2C_20PROVISION_2C_20LAST_5FSLOT_2C_20CRC_5FFUNC_2C_20RND_5FTYPE_2C_20RND_5FFUNC_20_3E_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a68240fe561bb94c2bf56c9efb8d413f5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSlotNVM.html#a68240fe561bb94c2bf56c9efb8d413f5">begin</a> ()</td></tr>
<tr class="memdesc:a68240fe561bb94c2bf56c9efb8d413f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize <a class="el" href="classSlotNVM.html">SlotNVM</a>.  <a href="#a68240fe561bb94c2bf56c9efb8d413f5">More...</a><br /></td></tr>
<tr class="separator:a68240fe561bb94c2bf56c9efb8d413f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5c84b9ddcab1f4e771f3008962f3d91"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSlotNVM.html#ae5c84b9ddcab1f4e771f3008962f3d91">isValid</a> () const</td></tr>
<tr class="memdesc:ae5c84b9ddcab1f4e771f3008962f3d91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if begin is called before and returns true.  <a href="#ae5c84b9ddcab1f4e771f3008962f3d91">More...</a><br /></td></tr>
<tr class="separator:ae5c84b9ddcab1f4e771f3008962f3d91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4b102edc6d6752684cb4b2233c974d8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSlotNVM.html#ac4b102edc6d6752684cb4b2233c974d8">isSlotAvailable</a> (uint8_t slot) const</td></tr>
<tr class="memdesc:ac4b102edc6d6752684cb4b2233c974d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if data is stored for a given slot.  <a href="#ac4b102edc6d6752684cb4b2233c974d8">More...</a><br /></td></tr>
<tr class="separator:ac4b102edc6d6752684cb4b2233c974d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac59c221c01ec420692133320b3e213d6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSlotNVM.html#ac59c221c01ec420692133320b3e213d6">writeSlot</a> (uint8_t slot, const uint8_t *data, nvm_size_t len)</td></tr>
<tr class="memdesc:ac59c221c01ec420692133320b3e213d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write data.  <a href="#ac59c221c01ec420692133320b3e213d6">More...</a><br /></td></tr>
<tr class="separator:ac59c221c01ec420692133320b3e213d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06572ef60ea100f7c106b50927998ba2"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a06572ef60ea100f7c106b50927998ba2"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classSlotNVM.html#a06572ef60ea100f7c106b50927998ba2">writeSlot</a> (uint8_t slot, T &amp;data)</td></tr>
<tr class="memdesc:a06572ef60ea100f7c106b50927998ba2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write data.  <a href="#a06572ef60ea100f7c106b50927998ba2">More...</a><br /></td></tr>
<tr class="separator:a06572ef60ea100f7c106b50927998ba2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43d86d9cf855106169fb25d42fde99e0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSlotNVM.html#a43d86d9cf855106169fb25d42fde99e0">readSlot</a> (uint8_t slot, uint8_t *data, nvm_size_t &amp;len) const</td></tr>
<tr class="memdesc:a43d86d9cf855106169fb25d42fde99e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read data If buffer is to small, nothing is read but len is set to needed size and false is returned.  <a href="#a43d86d9cf855106169fb25d42fde99e0">More...</a><br /></td></tr>
<tr class="separator:a43d86d9cf855106169fb25d42fde99e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af39986977ec12a436a0a622d05aa0859"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:af39986977ec12a436a0a622d05aa0859"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classSlotNVM.html#af39986977ec12a436a0a622d05aa0859">readSlot</a> (uint8_t slot, T &amp;data) const</td></tr>
<tr class="memdesc:af39986977ec12a436a0a622d05aa0859"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read data If slot stores more or less byte than size of data false is returned and data untouched.  <a href="#af39986977ec12a436a0a622d05aa0859">More...</a><br /></td></tr>
<tr class="separator:af39986977ec12a436a0a622d05aa0859"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4eddb1ffa457caf814ebfaa60eb9565"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSlotNVM.html#ab4eddb1ffa457caf814ebfaa60eb9565">eraseSlot</a> (uint8_t slot)</td></tr>
<tr class="memdesc:ab4eddb1ffa457caf814ebfaa60eb9565"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete slot data.  <a href="#ab4eddb1ffa457caf814ebfaa60eb9565">More...</a><br /></td></tr>
<tr class="separator:ab4eddb1ffa457caf814ebfaa60eb9565"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f37d1dd045acb4d871d9e4efb2e7323"><td class="memItemLeft" align="right" valign="top">nvm_size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSlotNVM.html#a9f37d1dd045acb4d871d9e4efb2e7323">getSize</a> () const</td></tr>
<tr class="memdesc:a9f37d1dd045acb4d871d9e4efb2e7323"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get amount of total available user data.  <a href="#a9f37d1dd045acb4d871d9e4efb2e7323">More...</a><br /></td></tr>
<tr class="separator:a9f37d1dd045acb4d871d9e4efb2e7323"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c32b3c783ed6df29db749243020ceb6"><td class="memItemLeft" align="right" valign="top">nvm_size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSlotNVM.html#a5c32b3c783ed6df29db749243020ceb6">getUsableSize</a> () const</td></tr>
<tr class="memdesc:a5c32b3c783ed6df29db749243020ceb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get amount of total usable user data.  <a href="#a5c32b3c783ed6df29db749243020ceb6">More...</a><br /></td></tr>
<tr class="separator:a5c32b3c783ed6df29db749243020ceb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbb82210353298b423d97632eeb527f1"><td class="memItemLeft" align="right" valign="top">nvm_size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSlotNVM.html#acbb82210353298b423d97632eeb527f1">getFree</a> () const</td></tr>
<tr class="memdesc:acbb82210353298b423d97632eeb527f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get amount of still writable user data.  <a href="#acbb82210353298b423d97632eeb527f1">More...</a><br /></td></tr>
<tr class="separator:acbb82210353298b423d97632eeb527f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a4d9f3e202abb60fc1dd6684fd0c3edfa"><td class="memItemLeft" align="right" valign="top"><a id="a4d9f3e202abb60fc1dd6684fd0c3edfa"></a>
static const uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSlotNVM.html#a4d9f3e202abb60fc1dd6684fd0c3edfa">S_CLUSTER_CNT</a> = BASE::S_SIZE / CLUSTER_SIZE</td></tr>
<tr class="memdesc:a4d9f3e202abb60fc1dd6684fd0c3edfa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count of clusters. <br /></td></tr>
<tr class="separator:a4d9f3e202abb60fc1dd6684fd0c3edfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f673cd99ca454a1d39c8464d1da7f65"><td class="memItemLeft" align="right" valign="top"><a id="a5f673cd99ca454a1d39c8464d1da7f65"></a>
static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSlotNVM.html#a5f673cd99ca454a1d39c8464d1da7f65">S_USER_DATA_PER_CLUSTER</a> = CLUSTER_SIZE - 6 + ((CRC_FUNC == NULL) ? 1 : 0)</td></tr>
<tr class="memdesc:a5f673cd99ca454a1d39c8464d1da7f65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Max size of user data in one cluster. <br /></td></tr>
<tr class="separator:a5f673cd99ca454a1d39c8464d1da7f65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbcd3f06dd9f1097c34b5e8b18794b23"><td class="memItemLeft" align="right" valign="top"><a id="abbcd3f06dd9f1097c34b5e8b18794b23"></a>
static const uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSlotNVM.html#abbcd3f06dd9f1097c34b5e8b18794b23">S_PROVISION</a> = ((PROVISION + <a class="el" href="classSlotNVM.html#a5f673cd99ca454a1d39c8464d1da7f65">S_USER_DATA_PER_CLUSTER</a> - 1) / <a class="el" href="classSlotNVM.html#a5f673cd99ca454a1d39c8464d1da7f65">S_USER_DATA_PER_CLUSTER</a>) * <a class="el" href="classSlotNVM.html#a5f673cd99ca454a1d39c8464d1da7f65">S_USER_DATA_PER_CLUSTER</a></td></tr>
<tr class="memdesc:abbcd3f06dd9f1097c34b5e8b18794b23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count of reserved user bytes for overwriting slots. <br /></td></tr>
<tr class="separator:abbcd3f06dd9f1097c34b5e8b18794b23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad83041347b3024759b73aa6e9a14253c"><td class="memItemLeft" align="right" valign="top"><a id="ad83041347b3024759b73aa6e9a14253c"></a>
static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSlotNVM.html#ad83041347b3024759b73aa6e9a14253c">S_FIRST_SLOT</a> = 1</td></tr>
<tr class="memdesc:ad83041347b3024759b73aa6e9a14253c"><td class="mdescLeft">&#160;</td><td class="mdescRight">First allowed slot number. <br /></td></tr>
<tr class="separator:ad83041347b3024759b73aa6e9a14253c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a582d671d549ad62e351b4278c9d9d03f"><td class="memItemLeft" align="right" valign="top"><a id="a582d671d549ad62e351b4278c9d9d03f"></a>
static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSlotNVM.html#a582d671d549ad62e351b4278c9d9d03f">S_LAST_SLOT</a> = LAST_SLOT == 0 ? (<a class="el" href="classSlotNVM.html#a4d9f3e202abb60fc1dd6684fd0c3edfa">S_CLUSTER_CNT</a> &gt; 250 ? 250 : <a class="el" href="classSlotNVM.html#a4d9f3e202abb60fc1dd6684fd0c3edfa">S_CLUSTER_CNT</a>) : (LAST_SLOT &gt; 250 ? 250 : LAST_SLOT)</td></tr>
<tr class="memdesc:a582d671d549ad62e351b4278c9d9d03f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last allowed slot number. <br /></td></tr>
<tr class="separator:a582d671d549ad62e351b4278c9d9d03f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class BASE, nvm_size_t CLUSTER_SIZE, nvm_size_t PROVISION = 0, uint8_t LAST_SLOT = 0, uint8_t(*)(uint8_t crc, uint8_t data) CRC_FUNC = (uint8_t (*)(uint8_t, uint8_t))NULL, typename RND_TYPE = int, RND_TYPE(*)() RND_FUNC = &amp;rand&gt;<br />
class SlotNVM&lt; BASE, CLUSTER_SIZE, PROVISION, LAST_SLOT, CRC_FUNC, RND_TYPE, RND_FUNC &gt;</h3>

<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">BASE</td><td>Base class handling NVM read and write, see <a class="el" href="classNVMBase.html" title="Use this as base for your NVM access class. ">NVMBase</a> as example. This class also specifies the size of the NVM via member S_SIZE. </td></tr>
    <tr><td class="paramname">CLUSTER_SIZE</td><td>Size of a cluster in byte. This should not be lower than 7. Typical values are 16, 32, 64, 128, 256. </td></tr>
    <tr><td class="paramname">PROVISION</td><td>Bytes that must always be free to ensure that data can safely be rewritten. If your slot data do not exceed this limit is can always be rewritten without deleting other data before. This value is rounded to next multiple of user data of a cluster. </td></tr>
    <tr><td class="paramname">LAST_SLOT</td><td>Number of last usable slot. Maximum value is 250. 0 mean number is equal to count of available cluster. The result is stored in S_LAST_SLOT </td></tr>
    <tr><td class="paramname">CRC_FUNC</td><td>Function to calculate a 8 bit CRC. Prototype must be: uint8_t CRC8_function(uint8_t crc, uint8_t data). NULL means not CRC is stored in NVM and therefore one extra data byte per cluster is available. </td></tr>
    <tr><td class="paramname">RND_TYPE</td><td>Return type of RND_FUNC. </td></tr>
    <tr><td class="paramname">RND_FUNC</td><td>Random function for wear leveling. Default is rand() from stdlib.h. Please do not forget to call srand(). </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a68240fe561bb94c2bf56c9efb8d413f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68240fe561bb94c2bf56c9efb8d413f5">&#9670;&nbsp;</a></span>begin()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BASE , nvm_size_t CLUSTER_SIZE, nvm_size_t PROVISION, uint8_t LAST_SLOT, uint8_t(*)(uint8_t, uint8_t) CRC_FUNC, typename RND_TYPE , RND_TYPE(*)() RND_FUNC&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classSlotNVM.html">SlotNVM</a>&lt; BASE, CLUSTER_SIZE, PROVISION, LAST_SLOT, CRC_FUNC, RND_TYPE, RND_FUNC &gt;::begin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize <a class="el" href="classSlotNVM.html">SlotNVM</a>. </p>
<p>Call this once before every other call to <a class="el" href="classSlotNVM.html">SlotNVM</a>. This will check current data of NVM and fix wrong data if found some. </p><dl class="section return"><dt>Returns</dt><dd>true if NVM data is readable and data structure is OK or fixed. <br />
 false if NVM data is not readable or data structure is corrupt and can not be fixed or <a class="el" href="classSlotNVM.html#a68240fe561bb94c2bf56c9efb8d413f5" title="Initialize SlotNVM. ">begin()</a> is called twice. </dd></dl>

</div>
</div>
<a id="ab4eddb1ffa457caf814ebfaa60eb9565"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4eddb1ffa457caf814ebfaa60eb9565">&#9670;&nbsp;</a></span>eraseSlot()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BASE , nvm_size_t CLUSTER_SIZE, nvm_size_t PROVISION, uint8_t LAST_SLOT, uint8_t(*)(uint8_t, uint8_t) CRC_FUNC, typename RND_TYPE , RND_TYPE(*)() RND_FUNC&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classSlotNVM.html">SlotNVM</a>&lt; BASE, CLUSTER_SIZE, PROVISION, LAST_SLOT, CRC_FUNC, RND_TYPE, RND_FUNC &gt;::eraseSlot </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>slot</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete slot data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slot</td><td>Slot number </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success else false </dd></dl>

</div>
</div>
<a id="acbb82210353298b423d97632eeb527f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbb82210353298b423d97632eeb527f1">&#9670;&nbsp;</a></span>getFree()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BASE , nvm_size_t CLUSTER_SIZE, nvm_size_t PROVISION, uint8_t LAST_SLOT, uint8_t(*)(uint8_t, uint8_t) CRC_FUNC, typename RND_TYPE , RND_TYPE(*)() RND_FUNC&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">nvm_size_t <a class="el" href="classSlotNVM.html">SlotNVM</a>&lt; BASE, CLUSTER_SIZE, PROVISION, LAST_SLOT, CRC_FUNC, RND_TYPE, RND_FUNC &gt;::getFree </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get amount of still writable user data. </p>
<dl class="section return"><dt>Returns</dt><dd>Free bytes </dd></dl>

</div>
</div>
<a id="a9f37d1dd045acb4d871d9e4efb2e7323"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f37d1dd045acb4d871d9e4efb2e7323">&#9670;&nbsp;</a></span>getSize()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BASE, nvm_size_t CLUSTER_SIZE, nvm_size_t PROVISION = 0, uint8_t LAST_SLOT = 0, uint8_t(*)(uint8_t crc, uint8_t data) CRC_FUNC = (uint8_t (*)(uint8_t, uint8_t))NULL, typename RND_TYPE = int, RND_TYPE(*)() RND_FUNC = &amp;rand&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">nvm_size_t <a class="el" href="classSlotNVM.html">SlotNVM</a>&lt; BASE, CLUSTER_SIZE, PROVISION, LAST_SLOT, CRC_FUNC, RND_TYPE, RND_FUNC &gt;::getSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get amount of total available user data. </p>
<p>Some of this might be reserved as provision for safe overwriting. </p><dl class="section return"><dt>Returns</dt><dd>Total size in bytes </dd></dl>

</div>
</div>
<a id="a5c32b3c783ed6df29db749243020ceb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c32b3c783ed6df29db749243020ceb6">&#9670;&nbsp;</a></span>getUsableSize()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BASE, nvm_size_t CLUSTER_SIZE, nvm_size_t PROVISION = 0, uint8_t LAST_SLOT = 0, uint8_t(*)(uint8_t crc, uint8_t data) CRC_FUNC = (uint8_t (*)(uint8_t, uint8_t))NULL, typename RND_TYPE = int, RND_TYPE(*)() RND_FUNC = &amp;rand&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">nvm_size_t <a class="el" href="classSlotNVM.html">SlotNVM</a>&lt; BASE, CLUSTER_SIZE, PROVISION, LAST_SLOT, CRC_FUNC, RND_TYPE, RND_FUNC &gt;::getUsableSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get amount of total usable user data. </p>
<dl class="section return"><dt>Returns</dt><dd>Usable data size in bytes </dd></dl>

</div>
</div>
<a id="ac4b102edc6d6752684cb4b2233c974d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4b102edc6d6752684cb4b2233c974d8">&#9670;&nbsp;</a></span>isSlotAvailable()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BASE, nvm_size_t CLUSTER_SIZE, nvm_size_t PROVISION = 0, uint8_t LAST_SLOT = 0, uint8_t(*)(uint8_t crc, uint8_t data) CRC_FUNC = (uint8_t (*)(uint8_t, uint8_t))NULL, typename RND_TYPE = int, RND_TYPE(*)() RND_FUNC = &amp;rand&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classSlotNVM.html">SlotNVM</a>&lt; BASE, CLUSTER_SIZE, PROVISION, LAST_SLOT, CRC_FUNC, RND_TYPE, RND_FUNC &gt;::isSlotAvailable </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>slot</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if data is stored for a given slot. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slot</td><td>Slot number to check, </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if there is data for this slot. </dd></dl>

</div>
</div>
<a id="ae5c84b9ddcab1f4e771f3008962f3d91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5c84b9ddcab1f4e771f3008962f3d91">&#9670;&nbsp;</a></span>isValid()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BASE, nvm_size_t CLUSTER_SIZE, nvm_size_t PROVISION = 0, uint8_t LAST_SLOT = 0, uint8_t(*)(uint8_t crc, uint8_t data) CRC_FUNC = (uint8_t (*)(uint8_t, uint8_t))NULL, typename RND_TYPE = int, RND_TYPE(*)() RND_FUNC = &amp;rand&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classSlotNVM.html">SlotNVM</a>&lt; BASE, CLUSTER_SIZE, PROVISION, LAST_SLOT, CRC_FUNC, RND_TYPE, RND_FUNC &gt;::isValid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if begin is called before and returns true. </p>
<dl class="section return"><dt>Returns</dt><dd>true if <a class="el" href="classSlotNVM.html">SlotNVM</a> is ready for use. </dd></dl>

</div>
</div>
<a id="a43d86d9cf855106169fb25d42fde99e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43d86d9cf855106169fb25d42fde99e0">&#9670;&nbsp;</a></span>readSlot() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BASE , nvm_size_t CLUSTER_SIZE, nvm_size_t PROVISION, uint8_t LAST_SLOT, uint8_t(*)(uint8_t, uint8_t) CRC_FUNC, typename RND_TYPE , RND_TYPE(*)() RND_FUNC&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classSlotNVM.html">SlotNVM</a>&lt; BASE, CLUSTER_SIZE, PROVISION, LAST_SLOT, CRC_FUNC, RND_TYPE, RND_FUNC &gt;::readSlot </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>slot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">nvm_size_t &amp;&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read data If buffer is to small, nothing is read but len is set to needed size and false is returned. </p>
<p>So you can set data to NULL and len to 0 to read data length of a slot. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">slot</td><td>Slot number </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">data</td><td>Buffer to read in </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">len</td><td>in: Size of data buffer <br />
 out: On success count of bytes copied to data. If data buffer was to small the size of slot else value is not changed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success else false </dd></dl>

</div>
</div>
<a id="af39986977ec12a436a0a622d05aa0859"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af39986977ec12a436a0a622d05aa0859">&#9670;&nbsp;</a></span>readSlot() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BASE, nvm_size_t CLUSTER_SIZE, nvm_size_t PROVISION = 0, uint8_t LAST_SLOT = 0, uint8_t(*)(uint8_t crc, uint8_t data) CRC_FUNC = (uint8_t (*)(uint8_t, uint8_t))NULL, typename RND_TYPE = int, RND_TYPE(*)() RND_FUNC = &amp;rand&gt; </div>
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classSlotNVM.html">SlotNVM</a>&lt; BASE, CLUSTER_SIZE, PROVISION, LAST_SLOT, CRC_FUNC, RND_TYPE, RND_FUNC &gt;::readSlot </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>slot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T &amp;&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read data If slot stores more or less byte than size of data false is returned and data untouched. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slot</td><td>Slot number </td></tr>
    <tr><td class="paramname">data</td><td>Data to read in </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success else false </dd></dl>

</div>
</div>
<a id="ac59c221c01ec420692133320b3e213d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac59c221c01ec420692133320b3e213d6">&#9670;&nbsp;</a></span>writeSlot() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BASE , nvm_size_t CLUSTER_SIZE, nvm_size_t PROVISION, uint8_t LAST_SLOT, uint8_t(*)(uint8_t, uint8_t) CRC_FUNC, typename RND_TYPE , RND_TYPE(*)() RND_FUNC&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classSlotNVM.html">SlotNVM</a>&lt; BASE, CLUSTER_SIZE, PROVISION, LAST_SLOT, CRC_FUNC, RND_TYPE, RND_FUNC &gt;::writeSlot </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>slot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">nvm_size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slot</td><td>Slot number </td></tr>
    <tr><td class="paramname">data</td><td>Data to write </td></tr>
    <tr><td class="paramname">len</td><td>Lenght of data to write </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success else false </dd></dl>

</div>
</div>
<a id="a06572ef60ea100f7c106b50927998ba2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06572ef60ea100f7c106b50927998ba2">&#9670;&nbsp;</a></span>writeSlot() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BASE, nvm_size_t CLUSTER_SIZE, nvm_size_t PROVISION = 0, uint8_t LAST_SLOT = 0, uint8_t(*)(uint8_t crc, uint8_t data) CRC_FUNC = (uint8_t (*)(uint8_t, uint8_t))NULL, typename RND_TYPE = int, RND_TYPE(*)() RND_FUNC = &amp;rand&gt; </div>
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classSlotNVM.html">SlotNVM</a>&lt; BASE, CLUSTER_SIZE, PROVISION, LAST_SLOT, CRC_FUNC, RND_TYPE, RND_FUNC &gt;::writeSlot </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>slot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T &amp;&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slot</td><td>Slot number </td></tr>
    <tr><td class="paramname">data</td><td>Data to write </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success else false </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>SlotNVM.h</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
